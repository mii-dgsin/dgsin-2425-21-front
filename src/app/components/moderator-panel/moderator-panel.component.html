<div class="container mt-5">
  <h2>Panel de Moderación</h2>

  <div *ngIf="errorMsg" class="alert alert-danger">
    {{ errorMsg }}
  </div>

  <table class="table table-bordered table-striped mt-4" *ngIf="reports.length > 0">
    <thead class="table-light">
      <tr>
        <th>ID Reporte</th>
        <th>Tipo</th>
        <th>Razón</th>
        <th>Reportado (ID)</th>
        <th>Fecha</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let r of reports">
        <td>{{ r._id }}</td>
        <td>{{ r.type }}</td>
        <td>{{ r.reason }}</td>
        <td>{{ r.reportedId }}</td>
        <td>{{ r.createdAt | date:'short' }}</td>
        <td>
          <!-- Botón “Eliminar contenido” -->
          <button class="btn btn-sm btn-danger me-1"
            (click)="onResolve(r._id, 'deleteContent')">
            Eliminar Contenido
          </button>

          <!-- Botón “Suspender usuario” -->
          <button class="btn btn-sm btn-warning me-1"
            (click)="onResolve(r._id, 'suspendUser')">
            Suspender Usuario
          </button>

          <!-- Botón “Simplemente cerrar reporte” -->
          <button class="btn btn-sm btn-secondary"
            (click)="onResolve(r._id, 'resolve')">
            Cerrar Reporte
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <p *ngIf="reports.length === 0" class="text-muted">No hay reportes pendientes.</p>
</div>
